# 防止程序被Hook的方法


> 最近需要实现一个外发阻断的功能，简单点就是给要外发的程序添加`Hook`，在外发前做数据检查，检查通过后才允许外发，然而实现过程中才发现，给某个程序的动态库添加了`Hook`，但是始终不见生效，百度、必应、谷歌都用上了也没找到原因，最终只能自己对比可执行文件的区别，问题原因找到了，因此有了这篇文章。

做了以下操作之后，将导致Hook将无法生效：
1. 针对依赖的动态库在编译时候隐藏动态库符号表
2. 针对可执行文件，在编译成功之后使用 `strip ./<可执行文件名字>` 将删除可执行文件中的符号表和调试符号信息，hook将无法对此进程生效

